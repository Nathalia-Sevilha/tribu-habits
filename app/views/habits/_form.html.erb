<%= simple_form_for(@habit) do |form| %>
  <div class="form-fields">
    <div class="form-group">
      <%= form.input :title,
          as: :select,
          collection: Community.pluck(:title),
          label: false,
          prompt: "Select/create new habit",
          input_html: { class: 'form-select' } %>
    </div>
    <div class="form-group">
      <%= form.input :description,
          label: false,
          placeholder: "Add a description",
          input_html: { class: 'form-input' } %>
    </div>
    <div class="form-group color-section" data-controller="color-picker">
      <p class="color-label">Pick a color for your habit</p>
      <div class="color-choices">
        <% %w[ F09393 F5B6F3 FFC7D0 FFDA9B E4ED97 C1F4DC ACDFEB ].each do |color| %>
          <div
            class="color-choice <%= 'selected' if @habit.color == color %>"
            data-color="<%= color %>"
            style="background: #<%= color %>">
          </div>
        <% end %>
      </div>
      <%= form.input :color, as: :hidden %>
    </div>
  </div>
  <div class="form-group">
      <p>Choose the days for this habit:</p>
    <%= hidden_field_tag "habit[day_ids][]", nil %>

  <%= form.label :days %><br>
  <% Day.all.each do |day| %>
    <%= check_box_tag "habit[day_ids][]", day.id, @habit.days.include?(day)  %>
    <%= day.name %><br>
  <% end %>
    </div>
  <%= form.button :submit, "Create Habit", class: "form-submit-btn" %>
<% end %>
