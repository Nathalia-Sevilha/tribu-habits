<%= simple_form_for(@habit) do |form| %>
  <div class="form-fields">
    <% if params[:habit_id].present? %>
      <div class="form-group d-none">
        <%= form.input :title,
          label: false,
          value: @habit.title,
          input_html: { class: 'form-input' } %>
      </div>
    <% else %>
      <div class="form-group">
          <%= form.input :title,
            label: false,
            placeholder: "e.g. Yoga, Journal, Study Spanish",
            input_html: { class: 'form-control' } %>
      </div>
    <% end %>

      <p class="my-3">Set your goal</p>
    <div class="form-group">
      <%= form.input :description,
          label: false,
          placeholder: "e.g. 45 minutes, 3 pages, 20 new words",
          input_html: { class: 'form-control' } %>
    </div>
       <div class="form-group color-section my-3" data-controller="color-picker">
      <p class="color-label">Pick a color for this habit:</p>
      <div class="color-choices">
        <% %w[ F09393 F5B6F3 FFC7D0 FFDA9B E4ED97 C1F4DC ACDFEB ].each do |color| %>
          <div
            class="color-choice <%= 'selected' if @habit.color == color %>"
            data-color="<%= color %>"
            style="background: #<%= color %>">
          </div>
        <% end %>
      </div>
      <%= form.input :color, as: :hidden %>
    </div>

  </div>
 <div class="form-group mb-3">
  <p>Pick the days for this habit:</p>
  <div class="d-flex flex-wrap gap-2">
    <%= hidden_field_tag "habit[day_ids][]", nil %>

    <% Day.all.each do |day| %>
      <%= check_box_tag "habit[day_ids][]", day.id, @habit.days.include?(day), id: "day_#{day.id}", class: "d-none" %>
      <label for="day_<%= day.id %>" class="weekday-btn">
        <%= day.name.first(3).upcase %>
      </label>
    <% end %>
  </div>
</div>
  <%= form.button :submit, "Create Habit", class: "form-submit-btn" %>
<% end %>
    </div>
