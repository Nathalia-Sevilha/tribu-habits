<%= simple_form_for(@habit) do |form| %>
  <div class="form-fields">
    <% if params[:habit_id].present? %>
      <div class="form-group d-none">
        <%= form.input :title,
          label: false,
          value: @habit.title,
          input_html: { class: 'form-input' } %>
      </div>
    <% else %>
      <div class="form-group">
          <%= form.input :title,
            label: false,
            placeholder: "Habit name",
            input_html: { class: 'form-input' } %>
      </div>
    <% end %>

    <div class="form-group">
      <%= form.input :description,
          label: false,
          placeholder: "Add a description",
          input_html: { class: 'form-input' } %>
    </div>
    <div data-controller="color-picker" class="form-group my-3">
  <label class="color-label mb-1">Color</label>

  <div class="d-flex align-items-center gap-2">
    <%= form.input :color,
      as: :select,
      collection: [
        ['Rose',  'F09393'],
        ['Lilac', 'F5B6F3'],
        ['Pink',  'FFC7D0'],
        ['Peach', 'FFDA9B'],
        ['Lemon', 'E4ED97'],
        ['Mint',  'C1F4DC'],
        ['Aqua',  'ACDFEB']
      ],
      selected: @habit.color,
      include_blank: 'Pick a colorâ€¦',
      label: false,
      input_html: { class: "form-select", data: { color_picker_target: "select", action: "change->color-picker#update" } }
    %>

    <span class="color-swatch" data-color-picker-target="swatch"></span>
  </div>
</div>

  </div>
 <div class="form-group mb-3">
  <p>Choose the days for this habit:</p>
  <div class="d-flex flex-wrap gap-2">
    <%= hidden_field_tag "habit[day_ids][]", nil %>

    <% Day.all.each do |day| %>
      <%= check_box_tag "habit[day_ids][]", day.id, @habit.days.include?(day), id: "day_#{day.id}", class: "d-none" %>
      <label for="day_<%= day.id %>" class="weekday-btn">
        <%= day.name.first(3).upcase %>
      </label>
    <% end %>
  </div>
</div>
  <%= form.button :submit, "Create Habit", class: "form-submit-btn" %>
<% end %>
    </div>
